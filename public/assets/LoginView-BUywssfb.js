import{d as v,e as b,u as _,f,c as l,a as s,w as h,g as p,v as x,h as g,b as m,i as u,j as S,k as a,l as V,r as C,o as r,_ as E}from"./index-C2R5qiPR.js";import{_ as R}from"./android-chrome-512x512-BtdW6RNG.js";import{S as L}from"./sweetalert2.esm.all-BGf-Fe8G.js";const j={class:"flex flex-col justify-center px-6 py-12 lg:px-8"},B={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},N={class:"mt-2"},T={key:0,class:"text-red-500"},A={class:"flex items-center justify-between"},q={class:"text-sm"},I={class:"mt-2"},M={key:0,class:"text-red-500"},O=["disabled"],U={key:1},$={class:"mt-10 text-center text-sm text-gray-500"},D={class:"mt-2 text-center text-sm text-gray-500"},J=v({__name:"LoginView",setup(F){const i=b(!1),y=V(),w=_(),t=f({email:"",password:""}),o=f({email:!1,password:!1}),k=async()=>{const c=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;i.value=!0;try{if(!c.test(t.email))return o.email=!0;if(o.email=!1,t.password.length<6)return o.password=!0;if(o.password=!1,!await w.login(t.email,t.password))throw"Ocurrió un error al iniciar sesión";y.replace({name:"home"});return}catch(e){console.error(e),L.fire("Error",e,"error")}finally{i.value=!1}};return(c,e)=>{const n=C("RouterLink");return r(),l("div",j,[e[9]||(e[9]=s("div",{class:"sm:mx-auto sm:w-full sm:max-w-sm"},[s("img",{class:"mx-auto h-28 w-auto rounded-2xl",src:R,alt:"The Recipes Logo"}),s("h2",{class:"mt-5 text-center text-2xl font-bold leading-9 tracking-tight text-sky-950 dark:text-sky-50"}," Iniciar Sesión ")],-1)),s("div",B,[s("form",{class:"space-y-6",novalidate:"",onSubmit:h(k,["prevent"])},[s("div",null,[e[2]||(e[2]=s("label",{for:"email",class:"block text-sm font-medium leading-6 text-sky-950 dark:text-sky-50"},"Email",-1)),s("div",N,[p(s("input",{"onUpdate:modelValue":e[0]||(e[0]=d=>t.email=d),id:"email",name:"email",type:"email",autocomplete:"email",class:"block w-full rounded-md border-0 pl-3 py-1.5 text-sky-950 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-sky-500 outline-none sm:text-sm sm:leading-6"},null,512),[[x,t.email]]),o.email?(r(),l("span",T," El email es inválido ")):g("",!0)])]),s("div",null,[s("div",A,[e[4]||(e[4]=s("label",{for:"password",class:"block text-sm font-medium leading-6 text-sky-950 dark:text-sky-50"},"Contraseña",-1)),s("div",q,[m(n,{to:{name:"forgot-password"},class:"font-semibold text-sky-700 hover:text-sky-500"},{default:u(()=>e[3]||(e[3]=[a("¿Olvidaste tu contraseña?")])),_:1})])]),s("div",I,[p(s("input",{"onUpdate:modelValue":e[1]||(e[1]=d=>t.password=d),id:"password",name:"password",type:"password",autocomplete:"current-password",class:"block w-full rounded-md border-0 pl-3 py-1.5 text-sky-950 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-sky-500 outline-none sm:text-sm sm:leading-6"},null,512),[[x,t.password]]),o.password?(r(),l("span",M," El password debe tener más de 6 caracteres ")):g("",!0)])]),s("div",null,[s("button",{disabled:i.value,type:"submit",class:"flex w-full justify-center rounded-md bg-sky-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-sky-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},[i.value?(r(),S(E,{key:0,class:"w-6"})):(r(),l("span",U,"Ingresar"))],8,O)])],32),s("p",$,[e[6]||(e[6]=a(" ¿Aún no estás registrado? ")),m(n,{to:{name:"register"},class:"font-semibold leading-6 text-sky-700 hover:text-sky-500"},{default:u(()=>e[5]||(e[5]=[a("Crea una cuenta gratis aquí.")])),_:1})]),s("p",D,[e[8]||(e[8]=a(" ¿Tu cuenta no está activa? ")),m(n,{to:{name:"reactivate-account"},class:"font-semibold leading-6 text-sky-700 hover:text-sky-500"},{default:u(()=>e[7]||(e[7]=[a("Actívala aquí.")])),_:1})])])])}}});export{J as default};
