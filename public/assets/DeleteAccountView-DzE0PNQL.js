import{d as i,u as d,e as m,c as f,a as e,F as p,l as k,o as v}from"./index-C2R5qiPR.js";import{u as b}from"./user.store-Dj1Y-Cd3.js";import{S as o}from"./sweetalert2.esm.all-BGf-Fe8G.js";const h=i({__name:"DeleteAccountView",setup(x){const n=k(),s=b(),l=d(),a=m(!1),u=async()=>{a.value=!0;try{if(!localStorage.getItem("token")){o.fire("Error Al Cancelar Tu Cuenta","Tu token es inválido, intentalo más tarde","error");return}await s.cancelAccount(),l.logout(),o.fire("Cuenta Cancelada","Tu cuenta se canceló correctamente","success").then(()=>n.replace("/auth"))}catch(t){console.error("Error:",t),o.fire("Error Al Cancelar Tu Cuenta","Ha ocurrido un error al cancelar tu cuenta, intentalo más tarde","error")}finally{a.value=!1}},c=async()=>{a.value=!0;try{if(!localStorage.getItem("token")){o.fire("Error Al Cancelar Tu Cuenta","Tu token es inválido, intentalo más tarde","error");return}await s.deleteAccount(),l.logout(),o.fire("Cuenta Eliminada Permanentemente","Tu cuenta ha sido eliminada exitosamente","success").then(()=>n.replace("/auth"))}catch(t){console.error("Error:",t),o.fire("Error Al Cancelar Tu Cuenta","Ha ocurrido un error al cancelar tu cuenta, intentalo más tarde","error")}finally{a.value=!1}};return(t,r)=>(v(),f(p,null,[r[0]||(r[0]=e("h3",{class:"text-4xl text-sky-950 dark:text-slate-50"},"¡Cuidado!",-1)),r[1]||(r[1]=e("p",{class:"text-red-500 my-5"}," Estas a punto de eliminar tu cuenta o cancelar tu cuenta temporalmente, ten en cuenta que todos tus datos, recetas y favoritos seran eliminados permanentemente. ",-1)),r[2]||(r[2]=e("p",{class:"text-sky-950 dark:text-slate-50"},"Selecciona un botón",-1)),e("div",null,[e("button",{onClick:u,class:"uppercase col-span-3 md:col-span-1 mt-5 flex w-full justify-center rounded-md border border-sky-600 hover:bg-sky-500 text-sky-500 hover:text-sky-50 px-3 py-1.5 text-sm font-semibold leading-6 shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"}," Dar de baja mi cuenta ")]),e("div",null,[e("button",{onClick:c,class:"uppercase col-span-3 md:col-span-1 mt-5 flex w-full justify-center rounded-md border border-red-600 hover:bg-red-500 text-red-500 hover:text-sky-50 px-3 py-1.5 text-sm font-semibold leading-6 shadow-sm focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"}," Borrar Cuenta ")])],64))}});export{h as default};
