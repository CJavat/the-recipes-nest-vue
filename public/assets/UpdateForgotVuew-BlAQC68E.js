import{d as k,e as b,u as v,f as d,c as n,a as s,w as _,g as u,v as c,h as m,j as h,l as P,m as C,o as r,_ as S}from"./index-C2R5qiPR.js";import{_ as V}from"./android-chrome-512x512-BtdW6RNG.js";import{S as p}from"./sweetalert2.esm.all-BGf-Fe8G.js";const A={class:"flex flex-col justify-center px-6 py-12 lg:px-8 min-w-96"},B={class:"mt-10 sm:mx-auto sm:w-full sm:max-w-sm"},L={class:"mt-2"},R={key:0,class:"text-red-500"},j={class:"mt-2"},z={key:0,class:"text-red-500"},E=["disabled"],T={key:1},N=k({__name:"UpdateForgotVuew",setup(U){const l=b(!1),f=P(),w=C(),g=v(),x=w.fullPath.split("/").slice(-1)[0],t=d({password:"",rePassword:""}),o=d({password:!1,rePassword:!1}),y=async()=>{l.value=!0;try{if(t.password.length<6)return o.password=!0;if(o.password=!1,t.rePassword!==t.password)return o.rePassword=!0;o.rePassword=!1;const a=await g.updatePassword(x,t.password);p.fire("Cuenta Actualizada",a,"success").then(()=>f.replace({name:"login"}))}catch(a){console.error(a),p.fire("Error",a,"error")}finally{l.value=!1}};return(a,e)=>(r(),n("div",A,[e[4]||(e[4]=s("div",{class:"sm:mx-auto sm:w-full sm:max-w-sm"},[s("img",{class:"mx-auto h-28 w-auto rounded-2xl",src:V,alt:"The Recipes Logo"}),s("h2",{class:"mt-5 text-center text-2xl font-bold leading-9 tracking-tight text-sky-950 dark:text-sky-50"}," Actualizar Contraseña ")],-1)),s("div",B,[s("form",{class:"space-y-6",onSubmit:_(y,["prevent"])},[s("div",null,[e[2]||(e[2]=s("label",{for:"password",class:"block text-sm font-medium leading-6 text-sky-950 dark:text-sky-50"},"Contraseña",-1)),s("div",L,[u(s("input",{"onUpdate:modelValue":e[0]||(e[0]=i=>t.password=i),id:"password",name:"password",type:"password",autocomplete:"password",class:"block w-full rounded-md border-0 pl-3 py-1.5 text-sky-950 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-sky-500 outline-none sm:text-sm sm:leading-6",required:""},null,512),[[c,t.password]]),o.password?(r(),n("span",R," La contraseña es inválida")):m("",!0)])]),s("div",null,[e[3]||(e[3]=s("label",{for:"rePassword",class:"block text-sm font-medium leading-6 text-sky-950 dark:text-sky-50"},"Confirma Tu Contraseña",-1)),s("div",j,[u(s("input",{"onUpdate:modelValue":e[1]||(e[1]=i=>t.rePassword=i),id:"rePassword",name:"rePassword",type:"password",class:"block w-full rounded-md border-0 pl-3 py-1.5 text-sky-950 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-sky-500 outline-none sm:text-sm sm:leading-6",required:""},null,512),[[c,t.rePassword]]),o.rePassword?(r(),n("span",z," Las contraseñas deben coincidir ")):m("",!0)])]),s("div",null,[s("button",{disabled:l.value,type:"submit",class:"flex w-full justify-center rounded-md bg-sky-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-sky-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},[l.value?(r(),h(S,{key:0,class:"w-6"})):(r(),n("span",T,"Actualizar Contraseña"))],8,E)])],32)])]))}});export{N as default};
