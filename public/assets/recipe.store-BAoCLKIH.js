import{D as n,E as y,e as p}from"./index-C2R5qiPR.js";const h=async()=>{try{const{data:t}=await n.get("/favorites");return t}catch(t){throw console.log(t),t}},w=async t=>{try{await n.get(`/favorites/${t}`)}catch(e){throw e}},g=async t=>{try{await n.delete(`/favorites/${t}`)}catch(e){throw e}},l=async(t,e)=>{try{const a={limit:t};(e??!0)&&(a.offset=e);const{data:o}=await n.get("/recipes",{params:a});return o}catch(a){throw console.log(a),a}},u=async t=>{try{const{data:e}=await n.get(`/recipes/${t}`);return e}catch(e){throw e}},d=async(t,e,a)=>{try{a<=0&&(a=null);const{data:o}=await n.get(`/recipes/by-category/${t}`,{params:{limit:e,offset:a}});return o}catch(o){throw console.log(o),o}},R=async(t,e,a)=>{try{a<=0&&(a=null);const{data:o}=await n.get(`/recipes/by-user/${t}`,{params:{limit:e,offset:a}});return o}catch(o){throw console.log(o),o}},v=async(t,e)=>{try{e<=0&&(e=null);const{data:a}=await n.get("/recipes/own-recipes",{params:{limit:t,offset:e}});return a}catch(a){throw console.log(a),a}},m=async t=>{try{const{data:e}=await n.get("/recipes/search",{params:{title:t}});return e}catch(e){throw console.log(e),e}},A=async t=>{try{const{data:e}=await n.post("/recipes",t,{headers:{"Content-Type":"multipart/form-data"},transformRequest:a=>a});return e}catch(e){throw console.log(e),e}},F=async(t,e)=>{try{const{data:a}=await n.patch(`/recipes/${t}`,e,{headers:{"Content-Type":"multipart/form-data"},transformRequest:o=>o});return a}catch(a){throw console.log(a),a}},C=async t=>{try{const{data:e}=await n.delete(`/recipes/${t}`);return e}catch(e){throw e}},B=async()=>{try{const{data:t}=await n.get("/categories");return t}catch(t){throw console.log(t),t}},D=y("recipe",()=>{const t=p(void 0),e=p(void 0),a=async()=>{try{const r=await h();return r.length>0?e.value=r.map(c=>({id:c.recipeId,image:c.recipe.image,title:c.recipe.title,User:{firstName:c.user.firstName},isFavorite:!0})):e.value=void 0,r}catch(r){throw e.value=void 0,r}};return{categories:t,myFavorites:e,getFavorites:a,addFavorite:async r=>{try{await w(r),await a()}catch(c){throw e.value=void 0,c}},removeFavorite:async r=>{try{await g(r),await a()}catch(c){throw e.value=void 0,c}},getRecipes:async(r,c)=>{try{const s=await l(r,c);if(!s)throw["No hay recetas"];return s}catch(s){throw s}},getRecipe:async r=>{try{const c=await u(r);if(!c)throw["No se encontrÃ³ la receta"];return c}catch(c){throw c}},getRecipesByCategory:async(r,c,s)=>{try{return await d(r,c,s)}catch(i){throw i}},getRecipesByUser:async(r,c,s)=>{try{return await R(r,c,s)}catch(i){throw i}},getMyRecipes:async(r,c)=>{try{return await v(r,c)}catch(s){throw s}},searchRecipes:async r=>{try{return await m(r)}catch(c){throw c}},createRecipe:async r=>{try{return await A(r)}catch(c){throw c}},updateRecipe:async(r,c)=>{try{return await F(r,c)}catch(s){throw s}},deleteRecipe:async r=>{try{return await C(r)}catch(c){throw c}},getCategories:async()=>{try{const r=await B();if(!r)throw["No hay categorias por mostrar"];return t.value=r,r}catch(r){throw r}}}},{persist:{key:"recipeStore",storage:window.localStorage}});export{D as u};
