import{d as w,u as b,e as v,f,c as r,a as e,w as N,g as i,v as n,h as d,j as _,k as p,b as h,i as P,l as R,r as V,o as l,_ as C}from"./index-C2R5qiPR.js";import{_ as E}from"./android-chrome-512x512-BtdW6RNG.js";import{S as c}from"./sweetalert2.esm.all-BGf-Fe8G.js";const L={class:"flex flex-col justify-center px-6 py-12 lg:px-8"},S={class:"mt-5 sm:mx-auto sm:w-full sm:max-w-sm"},U={class:"mt-2"},B={key:0,class:"text-red-500"},j={class:"mt-2"},T={key:0,class:"text-red-500"},A={class:"mt-2"},M={key:0,class:"text-red-500"},$={class:"mt-2"},q={key:0,class:"text-red-500"},D={class:"mt-2"},F={key:0,class:"text-red-500"},I=["disabled"],Y={key:1},z={class:"mt-5 text-center text-sm text-gray-500 px-10 sm:px-16"},O=w({__name:"RegisterView",setup(G){const g=R(),x=b(),m=v(!1),t=f({firstName:"",lastName:"",email:"",password:"",rePassword:""}),a=f({firstName:!1,lastName:!1,email:!1,password:!1,rePassword:!1}),y=async()=>{const u=/^[^\s@]+@[^\s@]+\.[^\s@]+$/;m.value=!0;try{if(t.firstName==="")return a.firstName=!0;if(a.firstName=!1,t.lastName==="")return a.lastName=!0;if(a.lastName=!1,!u.test(t.email))return a.email=!0;if(a.email=!1,t.password.length<6)return a.password=!0;if(a.password=!1,t.rePassword!==t.password)return a.rePassword=!0;a.rePassword=!1;const s=await x.register(t);c.fire("Registro exitoso!",s,"success").then(()=>g.replace({name:"login"}));return}catch(s){console.error(s),c.fire("Error",s,"error")}finally{m.value=!1}};return(u,s)=>{const k=V("RouterLink");return l(),r("div",L,[s[12]||(s[12]=e("div",{class:"sm:mx-auto sm:w-full sm:max-w-sm"},[e("img",{class:"absolute sm:relative sm:mx-auto top-0 left-0 h-20 sm:h-28 w-auto rounded-2xl",src:E,alt:"The Recipes Logo"}),e("h2",{class:"mt-5 text-center text-2xl font-bold leading-9 tracking-tight text-sky-950 dark:text-sky-50"}," Crear Cuenta ")],-1)),e("div",S,[e("form",{class:"space-y-6",novalidate:"",onSubmit:N(y,["prevent"])},[e("div",null,[s[5]||(s[5]=e("label",{for:"firstName",class:"block text-sm font-medium leading-6 text-sky-950 dark:text-sky-50"},"Nombre",-1)),e("div",U,[i(e("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>t.firstName=o),id:"firstName",name:"firstName",type:"text",class:"block w-full rounded-md border-0 pl-3 py-1.5 text-sky-950 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-sky-500 outline-none sm:text-sm sm:leading-6"},null,512),[[n,t.firstName]]),a.firstName?(l(),r("span",B," El nombre es inválido ")):d("",!0)])]),e("div",null,[s[6]||(s[6]=e("label",{for:"lastName",class:"block text-sm font-medium leading-6 text-sky-950 dark:text-sky-50"},"Apellido",-1)),e("div",j,[i(e("input",{"onUpdate:modelValue":s[1]||(s[1]=o=>t.lastName=o),id:"lastName",name:"lastName",type:"text",autocomplete:"email",class:"block w-full rounded-md border-0 pl-3 py-1.5 text-sky-950 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-sky-500 outline-none sm:text-sm sm:leading-6"},null,512),[[n,t.lastName]]),a.lastName?(l(),r("span",T," El apellido es inválido ")):d("",!0)])]),e("div",null,[s[7]||(s[7]=e("label",{for:"email",class:"block text-sm font-medium leading-6 text-sky-950 dark:text-sky-50"},"Email",-1)),e("div",A,[i(e("input",{"onUpdate:modelValue":s[2]||(s[2]=o=>t.email=o),id:"email",name:"email",type:"email",autocomplete:"email",class:"block w-full rounded-md border-0 pl-3 py-1.5 text-sky-950 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-sky-500 outline-none sm:text-sm sm:leading-6"},null,512),[[n,t.email]]),a.email?(l(),r("span",M," El email es inválido ")):d("",!0)])]),e("div",null,[s[8]||(s[8]=e("label",{for:"password",class:"block text-sm font-medium leading-6 text-sky-950 dark:text-sky-50"},"Contraseña",-1)),e("div",$,[i(e("input",{"onUpdate:modelValue":s[3]||(s[3]=o=>t.password=o),id:"password",name:"password",type:"password",class:"block w-full rounded-md border-0 pl-3 py-1.5 text-sky-950 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-sky-500 outline-none sm:text-sm sm:leading-6"},null,512),[[n,t.password]]),a.password?(l(),r("span",q," La contraseña es inválida ")):d("",!0)])]),e("div",null,[s[9]||(s[9]=e("label",{for:"re-password",class:"block text-sm font-medium leading-6 text-sky-950 dark:text-sky-50"},"Repite tu Contraseña",-1)),e("div",D,[i(e("input",{"onUpdate:modelValue":s[4]||(s[4]=o=>t.rePassword=o),id:"rePassword",name:"rePassword",type:"password",class:"block w-full rounded-md border-0 pl-3 py-1.5 text-sky-950 shadow-sm ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-sky-500 outline-none sm:text-sm sm:leading-6"},null,512),[[n,t.rePassword]]),a.rePassword?(l(),r("span",F," Las contraseñas deben ser iguales ")):d("",!0)])]),e("div",null,[e("button",{disabled:m.value,type:"submit",class:"flex w-full justify-center rounded-md bg-sky-600 px-3 py-1.5 text-sm font-semibold leading-6 text-white shadow-sm hover:bg-sky-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-indigo-600"},[m.value?(l(),_(C,{key:0,class:"w-6"})):(l(),r("span",Y,"Registrarse"))],8,I)])],32),e("p",z,[s[11]||(s[11]=p(" ¿Ya tienes cuenta? ")),h(k,{to:{name:"login"},class:"font-semibold leading-6 text-sky-700 hover:text-sky-500"},{default:P(()=>s[10]||(s[10]=[p("Inicia sesión aquí.")])),_:1})])])])}}});export{O as default};
